!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return U}),n.d(e,"c",function(){return L});var r=function(){},o={},i=[],s=[];function a(t,e){var n,a,c,u,p=s;for(u=arguments.length;u-- >2;)i.push(arguments[u]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((a=i.pop())&&void 0!==a.pop)for(u=a.length;u--;)i.push(a[u]);else"boolean"==typeof a&&(a=null),(c="function"!=typeof t)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(c=!1)),c&&n?p[p.length-1]+=a:p===s?p=[a]:p.push(a),n=c;var l=new r;return l.nodeName=t,l.children=p,l.attributes=null==e?void 0:e,l.key=null==e?void 0:e.key,void 0!==o.vnode&&o.vnode(l),l}function c(t,e){for(var n in e)t[n]=e[n];return t}function u(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}var p="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var l=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function f(t){!t._dirty&&(t._dirty=!0)&&1==h.push(t)&&(o.debounceRendering||p)(d)}function d(){for(var t;t=h.pop();)t._dirty&&M(t)}function y(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function b(t){var e=c({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)u(n,null),u(r,t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===l.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,g,s):t.removeEventListener(e,g,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var a=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function g(t){return this._listeners[t.type](o.event&&o.event(t)||t)}var w=[],_=0,O=!1,S=!1;function x(){for(var t;t=w.shift();)o.afterMount&&o.afterMount(t),t.componentDidMount&&t.componentDidMount()}function E(t,e,n,r,o,i){_++||(O=null!=o&&void 0!==o.ownerSVGElement,S=null!=t&&!("__preactattr_"in t));var s=j(t,e,n,r,i);return o&&s.parentNode!==o&&o.appendChild(s),--_||(S=!1,i||x()),s}function j(t,e,n,r,o){var i=t,s=O;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),P(t,!0))),i.__preactattr_=!0,i;var a,c,u=e.nodeName;if("function"==typeof u)return function(t,e,n,r){var o=t&&t._component,i=o,s=t,a=o&&t._componentConstructor===e.nodeName,c=a,u=b(e);for(;o&&!c&&(o=o._parentComponent);)c=o.constructor===e.nodeName;o&&c&&(!r||o._component)?(R(o,u,3,n,r),t=o.base):(i&&!a&&(N(i),t=s=null),o=A(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t,s=null),R(o,u,1,n,r),t=o.base,s&&t!==s&&(s._component=null,P(s,!1)));return t}(t,e,n,r);if(O="svg"===u||"foreignObject"!==u&&O,u=String(u),(!t||!y(t,u))&&(a=u,(c=O?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)).normalizedNodeName=a,i=c,t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),P(t,!0)}var p=i.firstChild,l=i.__preactattr_,h=e.children;if(null==l){l=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)l[f[d].name]=f[d].value}return!S&&h&&1===h.length&&"string"==typeof h[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=h[0]&&(p.nodeValue=h[0]):(h&&h.length||null!=p)&&function(t,e,n,r,o){var i,s,a,c,u,p=t.childNodes,l=[],h={},f=0,d=0,b=p.length,m=0,g=e?e.length:0;if(0!==b)for(var w=0;w<b;w++){var _=p[w],O=_.__preactattr_,S=g&&O?_._component?_._component.__key:O.key:null;null!=S?(f++,h[S]=_):(O||(void 0!==_.splitText?!o||_.nodeValue.trim():o))&&(l[m++]=_)}if(0!==g)for(var w=0;w<g;w++){c=e[w],u=null;var S=c.key;if(null!=S)f&&void 0!==h[S]&&(u=h[S],h[S]=void 0,f--);else if(d<m)for(i=d;i<m;i++)if(void 0!==l[i]&&(x=s=l[i],T=o,"string"==typeof(E=c)||"number"==typeof E?void 0!==x.splitText:"string"==typeof E.nodeName?!x._componentConstructor&&y(x,E.nodeName):T||x._componentConstructor===E.nodeName)){u=s,l[i]=void 0,i===m-1&&m--,i===d&&d++;break}u=j(u,c,n,r),a=p[w],u&&u!==t&&u!==a&&(null==a?t.appendChild(u):u===a.nextSibling?v(a):t.insertBefore(u,a))}var x,E,T;if(f)for(var w in h)void 0!==h[w]&&P(h[w],!1);for(;d<=m;)void 0!==(u=l[m--])&&P(u,!1)}(i,h,n,r,S||null!=l.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||m(t,r,n[r],n[r]=void 0,O);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||m(t,r,n[r],n[r]=e[r],O)}(i,e.attributes,l),O=s,i}function P(t,e){var n=t._component;n?N(n):(null!=t.__preactattr_&&u(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||v(t),T(t))}function T(t){for(t=t.lastChild;t;){var e=t.previousSibling;P(t,!0),t=e}}var k=[];function A(t,e,n){var r,o=k.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),U.call(r,e,n)):((r=new U(e,n)).constructor=t,r.render=C);o--;)if(k[o].constructor===t)return r.nextBase=k[o].nextBase,k.splice(o,1),r;return r}function C(t,e,n){return this.constructor(t,n)}function R(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&t.base?f(t):M(t,1,i)),u(t.__ref,t))}function M(t,e,n,r){if(!t._disable){var i,s,a,u=t.props,p=t.state,l=t.context,h=t.prevProps||u,f=t.prevState||p,d=t.prevContext||l,y=t.base,v=t.nextBase,m=y||v,g=t._component,O=!1,S=d;if(t.constructor.getDerivedStateFromProps&&(p=c(c({},p),t.constructor.getDerivedStateFromProps(u,p)),t.state=p),y&&(t.props=h,t.state=f,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,p,l)?O=!0:t.componentWillUpdate&&t.componentWillUpdate(u,p,l),t.props=u,t.state=p,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!O){i=t.render(u,p,l),t.getChildContext&&(l=c(c({},l),t.getChildContext())),y&&t.getSnapshotBeforeUpdate&&(S=t.getSnapshotBeforeUpdate(h,f));var j,T,k=i&&i.nodeName;if("function"==typeof k){var C=b(i);(s=g)&&s.constructor===k&&C.key==s.__key?R(s,C,1,l,!1):(j=s,t._component=s=A(k,C,l),s.nextBase=s.nextBase||v,s._parentComponent=t,R(s,C,0,l,!1),M(s,1,n,!0)),T=s.base}else a=m,(j=g)&&(a=t._component=null),(m||1===e)&&(a&&(a._component=null),T=E(a,i,l,n||!y,m&&m.parentNode,!0));if(m&&T!==m&&s!==g){var U=m.parentNode;U&&T!==U&&(U.replaceChild(T,m),j||(m._component=null,P(m,!1)))}if(j&&N(j),t.base=T,T&&!r){for(var L=t,D=t;D=D._parentComponent;)(L=D).base=T;T._component=L,T._componentConstructor=L.constructor}}for(!y||n?w.push(t):O||(t.componentDidUpdate&&t.componentDidUpdate(h,f,S),o.afterUpdate&&o.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);_||r||x()}}function N(t){o.beforeUnmount&&o.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?N(n):e&&(null!=e.__preactattr_&&u(e.__preactattr_.ref,null),t.nextBase=e,v(e),k.push(t),T(e)),u(t.__ref,null)}function U(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function L(t,e,n){return E(n,t,{},!1,e,!1)}c(U.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=c(c({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),f(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),M(this,2)},render:function(){}})},function(t,e,n){"use strict";var r=n(14),o="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||o||Function("return this")()).Symbol,s=Object.prototype,a=s.hasOwnProperty,c=s.toString,u=i?i.toStringTag:void 0;var p=function(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[u]=n:delete t[u]),o},l=Object.prototype.toString;var h=function(t){return l.call(t)},f="[object Null]",d="[object Undefined]",y=i?i.toStringTag:void 0;var b=function(t){return null==t?void 0===t?d:f:y&&y in Object(t)?p(t):h(t)};var v=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);var m=function(t){return null!=t&&"object"==typeof t},g="[object Object]",w=Function.prototype,_=Object.prototype,O=w.toString,S=_.hasOwnProperty,x=O.call(Object);var E=function(t){if(!m(t)||b(t)!=g)return!1;var e=v(t);if(null===e)return!0;var n=S.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==x},j=n(8),P={INIT:"@@redux/INIT"};function T(t,e,n){var r;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(T)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function p(){return i}function l(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return u(),a.push(t),function(){if(e){e=!1,u();var n=a.indexOf(t);a.splice(n,1)}}}function h(t){if(!E(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,t)}finally{c=!1}for(var e=s=a,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:P.INIT}),(r={dispatch:h,subscribe:l,getState:p,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,h({type:P.INIT})}})[j.a]=function(){var t,e=l;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(p())}return n(),{unsubscribe:e(n)}}})[j.a]=function(){return this},t},r}function k(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function A(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];0,"function"==typeof t[o]&&(n[o]=t[o])}var i=Object.keys(n);var s=void 0;try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:P.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+P.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){s=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<i.length;a++){var c=i[a],u=n[c],p=t[c],l=u(p,e);if(void 0===l){var h=k(c,e);throw new Error(h)}o[c]=l,r=r||l!==p}return r?o:t}}function C(t,e){return function(){return e(t.apply(void 0,arguments))}}function R(t,e){if("function"==typeof t)return C(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],s=t[i];"function"==typeof s&&(r[i]=C(s,e))}return r}Object.assign;n.d(e,"c",function(){return T}),n.d(e,"b",function(){return A}),n.d(e,"a",function(){return R})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(4),o=n(18),i=n(23),s=n(24),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=o.toSubscriber(t,e,n);if(r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var o;o=n.subscribe(function(e){if(o)try{t(e)}catch(t){r(t),o.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();e.Observable=a},function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=n||void 0!==t&&t||r;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,n(2))},function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return m});var r=n(0),o=n(1),i={only:function(t){return t&&t[0]||null}};function s(){}s.isRequired=s;var a={element:s,func:s,shape:function(){return s},instanceOf:function(){return s}},c=a.shape({trySubscribe:a.func.isRequired,tryUnsubscribe:a.func.isRequired,notifyNestedSubs:a.func.isRequired,isSubscribed:a.func.isRequired}),u=a.shape({subscribe:a.func.isRequired,dispatch:a.func.isRequired,getState:a.func.isRequired});function p(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},v=!1;var m=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||e+"Subscription",o=function(t){function r(n,o){h(this,r);var i=b(this,t.call(this,n,o));return i[e]=n.store,i}return d(r,t),r.prototype.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.prototype.render=function(){return i.only(this.props.children)},r}(r.a);return o.prototype.componentWillReceiveProps=function(t){this[e]!==t.store&&(v||(v=!0,p("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions.")))},o.childContextTypes=((t={})[e]=u.isRequired,t[n]=c,t),o}(),g={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},w={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_=Object.defineProperty,O=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,j=E&&E(Object),P=function t(e,n,r){if("string"!=typeof n){if(j){var o=E(n);o&&o!==j&&t(e,o,r)}var i=O(n);S&&(i=i.concat(S(n)));for(var s=0;s<i.length;++s){var a=i[s];if(!(g[a]||w[a]||r&&r[a])){var c=x(n,a);try{_(e,a,c)}catch(t){}}}return e}return e},T=function(){},k=null,A={notify:function(){}};var C=function(){function t(e,n,r){h(this,t),this.store=e,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=A}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=k,t=k},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==k&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=A)},t}(),R=0,M={};function N(){}function U(t){var e,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,s=void 0===i?function(t){return"ConnectAdvanced("+t+")"}:i,a=o.methodName,p=void 0===a?"connectAdvanced":a,l=o.renderCountProp,v=void 0===l?void 0:l,m=o.shouldHandleStateChanges,g=void 0===m||m,w=o.storeKey,_=void 0===w?"store":w,O=o.withRef,S=void 0!==O&&O,x=y(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=_+"Subscription",j=R++,k=((e={})[_]=u,e[E]=c,e),A=((n={})[E]=c,n);return function(e){T("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=s(n),i=f({},x,{getDisplayName:s,methodName:p,renderCountProp:v,shouldHandleStateChanges:g,storeKey:_,withRef:S,displayName:o,wrappedComponentName:n,WrappedComponent:e}),a=function(n){function s(t,e){h(this,s);var r=b(this,n.call(this,t,e));return r.version=j,r.state={},r.renderCount=0,r.store=t[_]||e[_],r.propsMode=Boolean(t[_]),r.setWrappedInstance=r.setWrappedInstance.bind(r),T(r.store,'Could not find "'+_+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+_+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return d(s,n),s.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[E]=e||this.context[E],t},s.prototype.componentDidMount=function(){g&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},s.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=N,this.store=null,this.selector.run=N,this.selector.shouldComponentUpdate=!1},s.prototype.getWrappedInstance=function(){return T(S,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},s.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},s.prototype.initSelector=function(){var e=t(this.store.dispatch,i);this.selector=function(t,e){var n={run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},s.prototype.initSubscription=function(){if(g){var t=(this.propsMode?this.props:this.context)[E];this.subscription=new C(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(M)):this.notifyNestedSubs()},s.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},s.prototype.addExtraProps=function(t){if(!(S||v||this.propsMode&&this.subscription))return t;var e=f({},t);return S&&(e.ref=this.setWrappedInstance),v&&(e[v]=this.renderCount++),this.propsMode&&this.subscription&&(e[E]=this.subscription),e},s.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(r.b)(e,this.addExtraProps(t.props))},s}(r.a);return a.WrappedComponent=e,a.displayName=o,a.childContextTypes=A,a.contextTypes=k,a.prototype.componentWillUpdate=function(){var t=this;if(this.version!==j){this.version=j,this.initSelector();var e=[];this.subscription&&(e=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),g&&(this.subscription.trySubscribe(),e.forEach(function(e){return t.subscription.listeners.subscribe(e)}))}},P(a,e)}}var L=Object.prototype.hasOwnProperty;function D(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function I(t,e){if(D(t,e))return!0;if("object"!==(void 0===t?"undefined":l(t))||null===t||"object"!==(void 0===e?"undefined":l(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!L.call(e,n[o])||!D(t[n[o]],e[n[o]]))return!1;return!0}var Y="object"==(void 0===t?"undefined":l(t))&&t&&t.Object===Object&&t,W="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,F=(Y||W||Function("return this")()).Symbol,G=Object.prototype,H=G.hasOwnProperty,V=G.toString,B=F?F.toStringTag:void 0;var q=Object.prototype.toString;var z="[object Null]",J="[object Undefined]",K=F?F.toStringTag:void 0;function $(t){return null==t?void 0===t?J:z:K&&K in Object(t)?function(t){var e=H.call(t,B),n=t[B];try{t[B]=void 0;var r=!0}catch(t){}var o=V.call(t);return r&&(e?t[B]=n:delete t[B]),o}(t):function(t){return q.call(t)}(t)}var X,Q,Z=(X=Object.getPrototypeOf,Q=Object,function(t){return X(Q(t))});var tt="[object Object]",et=Function.prototype,nt=Object.prototype,rt=et.toString,ot=nt.hasOwnProperty,it=rt.call(Object);function st(t){if(!function(t){return null!=t&&"object"==(void 0===t?"undefined":l(t))}(t)||$(t)!=tt)return!1;var e=Z(t);if(null===e)return!0;var n=ot.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&rt.call(n)==it}function at(t,e,n){st(t)||p(n+"() in "+e+" must return a plain object. Instead received "+t+".")}function ct(t){return function(e,n){var r=t(e,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function ut(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function pt(t,e){return function(n,r){var o=r.displayName,i=function(t,e){return i.dependsOnOwnProps?i.mapToProps(t,e):i.mapToProps(t)};return i.dependsOnOwnProps=!0,i.mapToProps=function(n,r){i.mapToProps=t,i.dependsOnOwnProps=ut(t);var s=i(n,r);return"function"==typeof s&&(i.mapToProps=s,i.dependsOnOwnProps=ut(s),s=i(n,r)),at(s,o,e),s},i}}var lt=[function(t){return"function"==typeof t?pt(t,"mapDispatchToProps"):void 0},function(t){return t?void 0:ct(function(t){return{dispatch:t}})},function(t){return t&&"object"===(void 0===t?"undefined":l(t))?ct(function(e){return Object(o.a)(t,e)}):void 0}];var ht=[function(t){return"function"==typeof t?pt(t,"mapStateToProps"):void 0},function(t){return t?void 0:ct(function(){return{}})}];function ft(t,e,n){return f({},n,t,e)}var dt=[function(t){return"function"==typeof t?function(t){return function(e,n){var r=n.displayName,o=n.pure,i=n.areMergedPropsEqual,s=!1,a=void 0;return function(e,n,c){var u=t(e,n,c);return s?o&&i(u,a)||(a=u):(s=!0,at(a=u,r,"mergeProps")),a}}}(t):void 0},function(t){return t?void 0:function(){return ft}}];function yt(t,e,n){if(!t)throw new Error("Unexpected value for "+e+" in "+n+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||t.hasOwnProperty("dependsOnOwnProps")||p("The selector for "+e+" of "+n+" did not specify a value for dependsOnOwnProps.")}function bt(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function vt(t,e,n,r,o){var i=o.areStatesEqual,s=o.areOwnPropsEqual,a=o.areStatePropsEqual,c=!1,u=void 0,p=void 0,l=void 0,h=void 0,f=void 0;function d(o,c){var d,y,b=!s(c,p),v=!i(o,u);return u=o,p=c,b&&v?(l=t(u,p),e.dependsOnOwnProps&&(h=e(r,p)),f=n(l,h,p)):b?(t.dependsOnOwnProps&&(l=t(u,p)),e.dependsOnOwnProps&&(h=e(r,p)),f=n(l,h,p)):v?(d=t(u,p),y=!a(d,l),l=d,y&&(f=n(l,h,p)),f):f}return function(o,i){return c?d(o,i):(l=t(u=o,p=i),h=e(r,p),f=n(l,h,p),c=!0,f)}}function mt(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=y(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(t,i),a=r(t,i),c=o(t,i);return function(t,e,n,r){yt(t,"mapStateToProps",r),yt(e,"mapDispatchToProps",r),yt(n,"mergeProps",r)}(s,a,c,i.displayName),(i.pure?vt:bt)(s,a,c,t,i)}function gt(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+(void 0===t?"undefined":l(t))+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function wt(t,e){return t===e}!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?U:e,r=t.mapStateToPropsFactories,o=void 0===r?ht:r,i=t.mapDispatchToPropsFactories,s=void 0===i?lt:i,a=t.mergePropsFactories,c=void 0===a?dt:a,u=t.selectorFactory,p=void 0===u?mt:u}()}).call(this,n(2))},function(t,e,n){"use strict";(function(t,r){var o,i=n(13);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=Object(i.a)(o);e.a=s}).call(this,n(2),n(16)(t))},function(t,e,n){"use strict";var r=n(20),o=n(21),i=n(5),s=n(10),a=n(6),c=n(22),u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,l=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,d=u?u.length:0;n;)n.remove(this),n=++f<d&&u[f]||null;if(i.isFunction(l))s.tryCatch(l).call(this)===a.errorObject&&(e=!0,t=t||(a.errorObject.e instanceof c.UnsubscriptionError?p(a.errorObject.e.errors):[a.errorObject.e]));if(r.isArray(h))for(f=-1,d=h.length;++f<d;){var y=h[f];if(o.isObject(y))if(s.tryCatch(y.unsubscribe).call(y)===a.errorObject){e=!0,t=t||[];var b=a.errorObject.e;b instanceof c.UnsubscriptionError?t=t.concat(p(b.errors)):t.push(b)}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function p(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}e.Subscription=u},function(t,e,n){"use strict";var r,o=n(6);function i(){try{return r.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}e.tryCatch=function(t){return r=t,i}},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var r=n(4).root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(2))},function(t,e,n){t.exports=n(30)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){t.exports=n.p+"img/player.png"},function(t,e,n){"use strict";var r=n(19),o=n(12),i=n(11);e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(i.empty)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(5),i=n(9),s=n(11),a=n(12),c=function(t){function e(e,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!e){this.destination=s.empty;break}if("object"==typeof e){if(p(e)){var o=e[a.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,n,r)}}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(i.Subscription);e.Subscriber=c;var u=function(t){function e(e,n,r,i){var a;t.call(this),this._parentSubscriber=e;var c=this;o.isFunction(n)?a=n:n&&(a=n.next,r=n.error,i=n.complete,n!==s.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=r,this._complete=i}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c);function p(t){return t instanceof c||"syncErrorThrowable"in t&&t[a.rxSubscriber]}},function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=o},function(t,e,n){"use strict";var r=n(4);function o(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=o,e.observable=o(r.root),e.$$observable=e.observable},function(t,e,n){"use strict";var r=n(25);function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return o(t)},e.pipeFromArray=o},function(t,e,n){"use strict";e.noop=function(){}},function(t,e,n){"use strict";var r=n(3),o=n(27);r.Observable.fromEvent=o.fromEvent},function(t,e,n){"use strict";var r=n(28);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=n(3),i=n(10),s=n(5),a=n(6),c=n(9),u=Object.prototype.toString;var p=function(t){function e(e,n,r,o){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=o}return r(e,t),e.create=function(t,n,r,o){return s.isFunction(r)&&(o=r,r=void 0),new e(t,n,o,r)},e.setupSubscription=function(t,n,r,o,i){var s;if(function(t){return!!t&&"[object NodeList]"===u.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===u.call(t)}(t))for(var a=0,p=t.length;a<p;a++)e.setupSubscription(t[a],n,r,o,i);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var l=t;t.addEventListener(n,r,i),s=function(){return l.removeEventListener(n,r,i)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var h=t;t.on(n,r),s=function(){return h.off(n,r)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var f=t;t.addListener(n,r),s=function(){return f.removeListener(n,r)}}o.add(new c.Subscription(s))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,o=this.options,s=this.selector,c=s?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=i.tryCatch(s).apply(void 0,e);r===a.errorObject?t.error(a.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,c,t,o)},e}(o.Observable);e.FromEventObservable=p},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=new Image(512,156),h=n(17);l.src=h;var f={canvas:"",context:"",deltaTime:1e3/120,sprite:l,game:{started:0,elapsed:0,over:0,distance:0,center:0,speed:0,score:0,windowed:1,debug:0,reset:0},player:{direction:5,hit:0,jump:0,flip:0,eaten:0},speed:{x:0,y:0,ratio:8}},d=Object(o.b)({player:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GAME_START":t=i({},t,{direction:5,hit:0});break;case"GAME_OVER":t=i({},t,{ended:e.payload});break;case"PLAYER_POSITION":t=i({},t,{position:e.payload});break;case"PLAYER_JUMP":var n=void 0!==e.payload.flip?e.payload.flip:0;t=i({},t,{jumping:e.payload.jumping,strength:e.payload.strength,flip:n});break;case"UPDATE_SCORE":t=i({},t,{score:e.payload?t.score+e.payload:e.payload});break;case"PLAYER_MOVE":var r=t.direction+e.payload;5==e.payload?r=e.payload:r<0?r=2:e.payload>0&&1===t.direction?r=3:r>10&&(r=8),t=i({},t,{direction:r});break;case"PLAYER_MOUSEMOVE":if(!t.jumping){var o=5;e.payload.x>=.6?(o=4,e.payload.x>=2&&(o=3)):e.payload.x<=-.6&&(o=6,e.payload.x<=-2&&(o=7)),0==e.payload.y&&(o=0==e.payload.x?5:e.payload.x>0?2:8),t=i({},t,{direction:o})}break;case"PLAYER_HIT":e.payload&&(t=i({},t,{hit:e.payload,direction:15===t.direction?15:14}));break;case"PLAYER_EATEN":t=i({},t,{hit:e.payload,eaten:e.payload});break;case"PLAYER_SPRITE":t=i({},t,{direction:e.payload})}return t},game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GAME_START":case"GAME_PAUSE":t=u({},t,{started:e.payload,over:0});break;case"GAME_RESET":t=u({},t,{reset:e.payload});break;case"UPDATE_DISTANCE":t=u({},t,{distance:e.payload});break;case"UPDATE_CENTER":t=u({},t,{center:e.payload});break;case"UPDATE_ELAPSED":t=u({},t,{elapsed:e.payload});break;case"UPDATE_SCORE":t=u({},t,{score:e.payload?t.score+e.payload:0});break;case"PLAYER_HIT":case"PLAYER_EATEN":t=u({},t,{over:e.payload});break;case"DEBUG_MODE":t=u({},t,{debug:e.payload});break;case"WINDOW_MODE":t=u({},t,{windowed:e.payload})}return t},speed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GAME_START":t=a({},t,{x:0,y:8,ratio:8});break;case"GAME_PAUSE":t=a({},t,{x:0,y:8,ratio:8*e.payload});break;case"PLAYER_MOVE":var n=t.x-4*e.payload/3,r=t.ratio-Math.abs(6*n/3);5==e.payload&&(n=0,r=t.ratio),t=a({},t,{x:Math.min(Math.max(n,-t.ratio/2),t.ratio/2),y:Math.min(Math.max(r,0),t.ratio)});break;case"PLAYER_MOUSEMOVE":t=a({},t,{x:e.payload.x,y:e.payload.y});break;case"PLAYER_HIT":case"PLAYER_EATEN":e.payload&&(t=a({},t,{x:0,y:0}));break;case"PLAYER_SET_RATIO":t=a({},t,{y:e.payload,ratio:e.payload})}return t}}),y=Object(o.c)(d,f);y.subscribe(function(){});var b=n(7),v=n(3),m=(n(26),{ArrowRight:function(t){y.getState().game.started&&!y.getState().player.jumping&&y.dispatch({type:"PLAYER_MOVE",payload:1})},ArrowLeft:function(t){y.getState().game.started&&!y.getState().player.jumping&&y.dispatch({type:"PLAYER_MOVE",payload:-1})},ArrowDown:function(t){y.getState().game.started||y.dispatch({type:"GAME_START",payload:1}),y.getState().game.over&&(y.dispatch({type:"PLAYER_HIT",payload:0}),y.dispatch({type:"GAME_START",payload:1})),y.dispatch({type:"PLAYER_MOVE",payload:5})},ArrowUp:function(t){var e=y.getState().player.flip;y.getState().player.jumping&&(e=y.getState().player.flip>1?0:e+1,y.dispatch({type:"PLAYER_JUMP",payload:{jumping:1,strength:25,flip:e}}))},KeyF:function(t){var e=16===y.getState().speed.ratio?8:16;y.dispatch({type:"PLAYER_SET_RATIO",payload:e})},KeyP:function(t){var e=y.getState().game.started;y.dispatch({type:"GAME_PAUSE",payload:!e}),y.dispatch({type:"PLAYER_MOVE",payload:1*!e})},KeyR:function(t){var e=y.getState().game.reset;y.dispatch({type:"GAME_RESET",payload:!e})},Space:function(t){var e=y.getState().player.flip;y.getState().player.jumping&&(e=y.getState().player.flip>1?0:e+1),y.dispatch({type:"PLAYER_JUMP",payload:{jumping:1,strength:25,flip:e}}),y.getState().game.over&&(y.dispatch({type:"PLAYER_HIT",payload:0}),y.dispatch({type:"GAME_START",payload:1}))}});function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,width:60,height:128,flipped:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;"image"===(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"image")?f.context.drawImage(f.sprite,t.x,t.y,t.width,t.height,e-t.width/2,n-t.height/2,t.width/3,t.height/3):(f.context.font="12px serif",f.context.fillStyle="black",f.context.fillText(t,e,n)),y.getState().game.debug&&(f.context.strokeStyle=r?"red":"green",f.context.strokeRect(e-t.width/2,n-t.height/2,t.width/3,t.height/3),f.context.strokeStyle="rgba(20,20,20,0.1)",f.context.beginPath(),f.context.moveTo(f.canvas.width/2+y.getState().game.center,0),f.context.lineTo(f.canvas.width/2+y.getState().game.center,f.canvas.height),f.context.stroke())}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=[{name:"w3",x:492,y:131,width:90,height:128},{name:"w2",x:386,y:131,width:90,height:128},{name:"w1",x:280,y:131,width:82,height:128},{name:"sw2",x:158,y:131,width:87,height:128},{name:"sw1",x:88,y:131,width:64,height:128},{name:"normal",x:0,y:0,width:60,height:128,flipped:0},{name:"se1",x:88,y:0,width:64,height:128,flipped:0},{name:"se2",x:158,y:0,width:87,height:128,flipped:0},{name:"e1",x:275,y:0,width:91,height:128},{name:"e2",x:386,y:0,width:90,height:128},{name:"e3",x:492,y:0,width:90,height:128},{name:"jump",x:598,y:0,width:126,height:128},{name:"flip1",x:740,y:0,width:114,height:128},{name:"flip2",x:871,y:0,width:121,height:128},{name:"ouch",x:1008,y:0,width:124,height:128},{name:"getup",x:1146,y:0,width:123,height:128}],O=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.globals=f,this.moving=!1,this.speed=0,this.jumping=0,this.gravity=8,this.sprite=_,this.direction=this.globals.player.direction,this.strangth=0,this.position={x:this.globals.canvas.width/2-20,y:200},this.hit=0,this.flip=0,this.buffer=0}var e,n,r;return e=t,(n=[{key:"draw",value:function(){var t=this.position.x;this.sprite[this.direction].name.match(/ouch|getup|jump/)&&(t=this.position.x+this.sprite[this.direction].width/8),g(this.sprite[this.direction],t,this.position.y)}},{key:"jump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;this.buffer<=t?(this.position.y=200+this.gravity-Math.floor(t*Math.sin(this.buffer*Math.PI/t))-this.gravity,this.buffer+=1.5):(this.buffer=0,this.position.y=200,y.dispatch({type:"PLAYER_JUMP",payload:{jumping:0,strength:0,flip:0}}),this.direction>11&&this.direction<14?(this.buffer=25,y.dispatch({type:"PLAYER_HIT",payload:1})):y.dispatch({type:"PLAYER_SPRITE",payload:5}))}},{key:"update",value:function(t){var e=y.getState();this.position={x:this.globals.canvas.width/2+20,y:200},y.dispatch({type:"PLAYER_POSITION",payload:this.position}),e.player.jumping?(y.dispatch({type:"PLAYER_SPRITE",payload:11+e.player.flip}),f.context.fillStyle="rgba(0,0,0,.1)",f.context.beginPath(),f.context.ellipse(this.globals.canvas.width/2-10,175,5,20,Math.PI/2,0,2*Math.PI),f.context.fill(),this.buffer||(this.strength=e.player.strength),this.jump(this.strength)):e.player.hit&&!e.player.eaten&&(this.buffer+=.4,this.buffer>=90&&(y.dispatch({type:"PLAYER_SPRITE",payload:15}),this.buffer=0)),this.hit=e.player.hit,this.eaten=e.player.eaten,this.jumping=e.player.jumping,this.direction=e.player.direction,this.flip=e.player.flip,e.player.eaten||this.draw()}},{key:"reset",value:function(){this.hit=0,this.eaten=0,this.direction=5,this.draw()}}])&&w(e.prototype,n),r&&w(e,r),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=[{name:"run1",x:408,y:584,width:126,height:165,animation:1},{name:"run2",x:534,y:584,width:126,height:165,animation:-1},{name:"catching1",x:660,y:580,width:126,height:169,animation:1},{name:"catching2",x:786,y:580,width:126,height:166,animation:-1},{name:"catching3",x:752,y:764,width:126,height:166,animation:1},{name:"catching4",x:878,y:745,width:126,height:169,animation:-1},{name:"eating1",x:0,y:752,width:126,height:165,animation:1},{name:"eating2",x:126,y:752,width:126,height:165,animation:1},{name:"eating3",x:252,y:752,width:126,height:165,animation:1},{name:"eating4",x:378,y:752,width:126,height:165,animation:1},{name:"toothpick1",x:504,y:752,width:126,height:165,animation:1},{name:"toothpick2",x:626,y:752,width:126,height:165,animation:-1}],E=function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=y.getState(),this.globals=f,this.sprite=x,this.direction=n,this.position={x:this.globals.canvas.width/2*Math.random(),y:e},this.buffer=0,this.summoned=0,this.eating=0}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.summoned=1,this.update()}},{key:"reset",value:function(){this.buffer=0,this.eating=0,this.summoned=0,this.direction=0,this.position={x:0,y:0}}},{key:"eat",value:function(){this.direction<=5&&(this.direction=6),y.dispatch({type:"PLAYER_EATEN",payload:1})}},{key:"draw",value:function(){g(this.sprite[this.direction],this.position.x,this.position.y)}},{key:"update",value:function(t){if(this.state=y.getState(),this.summoned){var e=this.eating?2:1;this.buffer>16&&(this.direction+=this.sprite[this.direction].animation,this.buffer=0);var n=this.position.x<=this.state.player.position.x?(6-this.state.speed.x)/8:-(4-this.state.speed.x)/8,r=this.position.y<=this.state.player.position.y?(10-this.state.speed.y)/8:-(10+this.state.speed.y)/8;this.position.y>=this.state.player.position.y-10&&this.position.y<=this.state.player.position.y+10&&this.position.x>=this.state.player.position.x-10&&this.position.x<=this.state.player.position.x+10?this.eat():(this.position.x+=n,this.position.y+=r,this.position.x>=this.state.player.position.x-150?this.direction<=1&&(this.direction=2):this.position.x>=this.state.player.position.x&&this.position.x<=this.state.player.position.x+250&&this.direction<=3&&(this.direction=4)),this.eating=this.state.player.eaten,this.buffer+=e,this.draw()}}}])&&S(e.prototype,n),r&&S(e,r),t}();function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3/120;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frame=0,this.lastTime=0,this.framerate=n,this.loop=function(t){e.frame+=Math.round((t-e.lastTime)/n),e.lastTime=t,e.update(n),e.start()}}var e,n,r;return e=t,(n=[{key:"stop",value:function(){cancelAnimationFrame(this.loop)}},{key:"start",value:function(){requestAnimationFrame(this.loop)}}])&&j(e.prototype,n),r&&j(e,r),t}();var T=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.globals=f,this.moving=!1,this.id=n,this.speed=0,this.sprite=[],this.direction=0,this.position={x:this.globals.canvas.width*Math.random(),y:e||Math.max(300,this.globals.canvas.height+this.globals.canvas.height*Math.random())},this.hit=1};function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=[{name:"tree",x:925,y:129,width:112,height:127},{name:"tree fire",x:1051,y:643,width:86,height:106},{name:"tree big",x:1136,y:494,width:125,height:254}],N=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=A(this,(t=C(e)).call.apply(t,[this].concat(o)))).sprite=M,n.direction=Math.floor(Math.random()*n.sprite.length),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(e,T),e}();function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=[{name:"rock",x:1044,y:213,width:92,height:44,flipped:0}],W=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=L(this,(t=D(e)).call.apply(t,[this].concat(o)))).sprite=Y,n.direction=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,T),e}();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=[{name:"ramp",x:1141,y:228,width:127,height:28,flipped:0}],q=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=G(this,(t=H(e)).call.apply(t,[this].concat(o)))).sprite=B,n.direction=0,n.hit=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(e,T),e}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=[{name:"post",x:0,y:502,width:95,height:247}],Q=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=J(this,(t=K(e)).call.apply(t,[this].concat(o)))).state=y.getState(),n.sprite=X,n.direction=0,n.position.x=n.globals.canvas.width/2-n.state.game.center+300,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,T),e}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=[{name:"cart two",x:103,y:635,width:102,height:112},{name:"cart one",x:204,y:635,width:102,height:112},{name:"cart",x:307,y:635,width:102,height:112}],ot=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=tt(this,(t=et(e)).call.apply(t,[this].concat(o)))).state=y.getState(),n.sprite=rt,n.direction=Math.floor(Math.random()*n.sprite.length),n.position.x=n.globals.canvas.width/2-n.state.game.center+300,n.hit=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,T),e}();function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=[{name:"snow",x:831,y:368,width:63,height:16},{name:"snowMedium",x:901,y:353,width:96,height:32},{name:"snowBig",x:1002,y:260,width:253,height:124}],pt=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=st(this,(t=at(e)).call.apply(t,[this].concat(o)))).sprite=ut,n.direction=Math.floor(Math.random()*n.sprite.length),n.hit=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,T),e}();function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ht=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.obstacles=new Map,this.added=0}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.count()}},{key:"count",value:function(){var t=f.canvas.clientWidth>800?25:15;if(this.added<t){for(var e=this.added;e<t;e++)this.add();this.added=t}}},{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.random();e>.8?this.obstacles.set("tree"+this.added,new N(t,"tree"+this.added)):e>.5?this.obstacles.set("rock"+this.added,new W(t,"rock"+this.added)):e>.3?this.obstacles.set("snow"+this.added,new pt(t,"snow"+this.added)):e>.1&&!this.obstacles.has("ramp")?this.obstacles.set("ramp"+this.added,new q(t,"ramp"+this.added)):e>.05?this.obstacles.set("post"+this.added,new Q(t,"post"+this.added)):this.obstacles.has("cart")||(this.obstacles.set("cart"+this.added,new ot(t,"cart"+this.added)),console.log(this.obstacles.get("cart"+this.added).hit)),this.added++}},{key:"clear",value:function(){this.obstacles.clear(),this.added=0,this.count()}},{key:"draw",value:function(){var t=this;this.obstacles.forEach(function(e,n){e.position.y<=-200?(t.obstacles.delete(e.id),t.add()):e.position.x<=0&&(t.obstacles.delete(e.id),t.add(e.position.y,f.canvas.clientWidth));var r=y.getState();e.position.x-=r.speed.x,e.position.y=e.position.y-1.2*r.speed.y;var o=f.canvas.clientWidth-e.position.x,i=e.position.y;g(e.sprite[e.direction],o,i,e.hit)})}},{key:"update",value:function(){this.count(),this.draw()}}])&&lt(e.prototype,n),r&&lt(e,r),t}();var ft=[{name:"green-east",x:608,y:137,width:44,height:107},{name:"green-west",x:652,y:137,width:44,height:107},{name:"finish-east",x:706,y:137,width:78,height:106},{name:"finish-west",x:784,y:137,width:78,height:106}],dt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moving=!1,this.speed=0,this.sprite=ft,this.direction=r,this.position={x:e,y:n},this.hit=0};var yt=[{name:"logo",x:0,y:274,width:712,height:220}],bt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moving=!1,this.speed=0,this.sprite=yt,this.direction=r,this.position={x:e,y:n}};var vt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moving=!1,this.speed=0,this.sprite=[r],this.text=r,this.direction=0,this.position={x:e,y:n},this.hit=0};function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.objects=[]}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.objects.push(new dt(-85,200,1)),this.objects.push(new dt(60,200,0)),this.objects.push(new bt(0,150)),this.objects.push(new vt(350,126,"Skifree v0.1")),this.objects.push(new vt(350,138,"Original author: Chris Pirih"))}},{key:"add",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],Math.random()}},{key:"clear",value:function(){this.objects=[]}},{key:"draw",value:function(){var t=this;this.objects.forEach(function(e,n){e.position.y<=-100&&(t.objects.splice(n,1),t.add());var r=y.getState();e.position.x-=r.speed.x,e.position.y=e.position.y-1.2*r.speed.y;var o=f.canvas.clientWidth/2-e.position.x,i=e.position.y,s=void 0===e.text?"image":"text";g(e.sprite[e.direction],o,i,0,s)})}},{key:"update",value:function(){this.draw()}}])&&mt(e.prototype,n),r&&mt(e,r),t}();function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=y.getState(),this.scale=48,this.fullWidth=window.innerWidth,this.fullHeight=window.innerHeight,this.player=new O,this.yeti=new E,this.animate=new P,this.obstacles=new ht,this.objects=new gt,this.windowed=1}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.resizeCanvas(),v.Observable.fromEvent(window,"resize").subscribe(function(e){t.resizeCanvas()}),window.addEventListener("keydown",function(t){var e=t.code;m.hasOwnProperty(e)&&!y.getState().game.over&&m[e](t)}),f.canvas.addEventListener("mousemove",function(t){var e={x:0,y:0,ratio:y.getState().speed.ratio};switch(e.x=-Math.sin((t.layerX-f.canvas.width/2)/f.canvas.width*100*Math.PI/180)*e.ratio,e.y=Math.floor(Math.abs(Math.cos(e.x/4)*e.ratio)),!0){case t.layerY<=100&&t.layerY>=0:e.ratio=0,e.y=0;break;case t.layerY<=2*f.canvas.height/4&&t.layerY>=f.canvas.height/4:e.ratio=2;break;case t.layerY<=3*f.canvas.height/4&&0!==e.x:e.ratio=3;break;default:e.ratio=5}y.getState().game.started&&!y.getState().game.over&&y.dispatch({type:"PLAYER_MOUSEMOVE",payload:e})}),f.canvas.addEventListener("click",function(t){if(!t.button)if(y.getState().game.started){if(!y.getState().player.eaten){var e=y.getState().player.flip;y.getState().player.jumping&&(e=y.getState().player.flip>1?0:e+1),y.dispatch({type:"PLAYER_JUMP",payload:{jumping:1,strength:25,flip:e}}),y.getState().game.over&&(y.dispatch({type:"PLAYER_HIT",payload:0}),y.dispatch({type:"GAME_START",payload:1}))}}else y.dispatch({type:"GAME_START",payload:1})}),this.start()}},{key:"start",value:function(){this.player.position.x=f.canvas.width/2,y.dispatch({type:"UPDATE_ELAPSED",payload:0}),this.continue(),this.animate.start(f.deltaTime)}},{key:"continue",value:function(){var t=this;this.animate.update=function(e){t.update(),t.windowed!==t.store.game.windowed&&(t.resizeCanvas(),t.windowed=t.store.game.windowed),t.store.game.reset?t.restart():!t.store.game.started||t.store.game.over||t.store.player.eaten||(y.dispatch({type:"UPDATE_ELAPSED",payload:t.store.game.elapsed+.015}),y.dispatch({type:"UPDATE_DISTANCE",payload:t.store.game.distance+t.store.speed.y/30}),y.dispatch({type:"UPDATE_CENTER",payload:t.store.game.center+t.store.speed.x}),t.store.game.elapsed>59.999&&t.store.game.elapsed<=60.1&&!t.yeti.summoned&&t.yeti.init(),t.hitTest())},this.obstacles.init(),this.objects.init(),this.update(),this.hitTest()}},{key:"restart",value:function(){y.dispatch({type:"GAME_RESET",payload:0}),y.dispatch({type:"GAME_START",payload:1}),y.dispatch({type:"UPDATE_ELAPSED",payload:0}),y.dispatch({type:"UPDATE_DISTANCE",payload:0}),y.dispatch({type:"UPDATE_SCORE",payload:0}),y.dispatch({type:"PLAYER_EATEN",payload:0}),this.animate.stop(),this.obstacles.clear(),this.player.reset(),this.yeti.reset(),this.fillArea(),this.continue()}},{key:"hitTest",value:function(){var t=this;this.obstacles.obstacles.forEach(function(e){!function(t,e,n){var r=[{x:t.position.x-t.sprite[t.direction].width/2,y:t.position.y-t.sprite[t.direction].height/2+t.sprite[t.direction].height/3},{x:t.position.x-t.sprite[t.direction].width/2+t.sprite[t.direction].width/3,y:t.position.y-t.sprite[t.direction].height/2+t.sprite[t.direction].height/3}],o=[{x:f.canvas.clientWidth-e.position.x-e.sprite[e.direction].width/2,y:e.position.y-e.sprite[e.direction].height/2+e.sprite[e.direction].height/3},{x:f.canvas.clientWidth-e.position.x-e.sprite[e.direction].width/2+e.sprite[e.direction].width/3,y:e.position.y-e.sprite[e.direction].height/2+e.sprite[e.direction].height/3}];if((r[0].x<=o[0].x&&r[1].x>=o[0].x||r[1].x>=o[0].x&&r[0].x<=o[1].x)&&r[0].y>=o[0].y-5&&r[0].y<=o[0].y+5)if(t.jumping)y.dispatch({type:"UPDATE_SCORE",payload:.1*n.speed.ratio});else if(e.sprite[0].name.match(/snow+?/)){var i="snowBig"==e.sprite[0].name?15:25;y.dispatch({type:"PLAYER_JUMP",payload:{jumping:1,strength:i}})}else e.sprite[0].name.match(/ramp/)?y.dispatch({type:"PLAYER_JUMP",payload:{jumping:1,strength:100}}):200==t.position.y&&!t.hit&&e.hit&&(y.dispatch({type:"UPDATE_SCORE",payload:-10}),y.dispatch({type:"PLAYER_HIT",payload:1}))}(t.player,e,t.store)})}},{key:"resizeCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;f.canvas.width=this.store.game.windowed?Math.min(t,800):t,f.canvas.height=this.store.game.windowed?Math.min(e,568):e,this.player.update(),this.obstacles.update()}},{key:"fillArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgba(255,255,255,1)",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.innerWidth,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.innerHeight;f.context.clearRect(e,n,r,o),f.context.fillStyle=t,f.context.fillRect(e,n,r,o)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.deltaTime;this.fillArea(),this.yeti.summoned&&this.yeti.update(t),this.player.jumping||this.player.update(t),this.obstacles.update(t),this.player.jumping&&this.player.update(t),this.objects.update(t),this.store=y.getState()}}])&&wt(e.prototype,n),r&&wt(e,r),t}();function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=xt(this,Et(e).call(this,t))).state={elapsed:0,speed:0,distance:0,score:0,paused:0,debug:0,windowed:1},y.subscribe(function(){n.setState({elapsed:y.getState().game.elapsed,speed:y.getState().speed.y,distance:y.getState().game.distance,score:y.getState().game.score,paused:y.getState().game.started,windowed:y.getState().game.windowed})}),n.windowed=function(){var t=y.getState().game.windowed;n.setState({windowed:t}),y.dispatch({type:"WINDOW_MODE",payload:!t})},n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(e,r["a"]),n=e,(o=[{key:"pause",value:function(){var t=y.getState().game.started;y.dispatch({type:"GAME_PAUSE",payload:!t}),y.dispatch({type:"PLAYER_MOVE",payload:1*!t})}},{key:"debug",value:function(){var t=y.getState().game.debug;y.dispatch({type:"DEBUG_MODE",payload:!t})}},{key:"reset",value:function(){var t=y.getState().game.reset;y.dispatch({type:"GAME_RESET",payload:!t})}},{key:"componentDidMount",value:function(){window!==window.top&&y.getState().game.windowed&&this.windowed()}},{key:"render",value:function(t,e){var n=this;return Object(r.b)("div",{className:"score"},"Time: ",Math.floor(this.state.elapsed),"s",Object(r.b)("br",null),"Dist: ",Math.floor(this.state.distance),"m",Object(r.b)("br",null),"Speed: ",Math.floor(this.state.speed),"m/s",Object(r.b)("br",null),"Style: ",Math.floor(this.state.score),Object(r.b)("br",null),Object(r.b)("button",{onClick:this.pause},"play/pause (P)"),Object(r.b)("button",{onClick:this.reset},"reset (R)"),Object(r.b)("label",{for:"debug"},Object(r.b)("input",{type:"checkbox",id:"debug",name:"debug",checked:this.state.debug,onChange:this.debug})," debug mode"),Object(r.b)("label",{for:"windowed"},Object(r.b)("input",{type:"checkbox",id:"windowed",name:"windowed",checked:this.state.windowed,onCheck:function(t,e){return n.onChange(e)},onChange:this.windowed})," windowed mode"))}}])&&St(n.prototype,o),i&&St(n,i),e}();function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=At(this,Ct(e).call(this))).state={windowed:!1},y.subscribe(function(){t.setState({windowed:y.getState().game.windowed})}),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,r["a"]),n=e,(o=[{key:"componentDidMount",value:function(){f.canvas=document.querySelector("canvas"),f.context=document.querySelector("canvas").getContext("2d",{alpha:!1}),(new _t).init(),window!==window.top&&y.getState().game.windowed&&this.setState({windowed:!0})}},{key:"render",value:function(){return Object(r.b)("div",{class:"window ".concat(this.state.windowed?"windowed":"")},Object(r.b)("div",{class:"border"},Object(r.b)("div",{class:"titlebar"},Object(r.b)("button",{class:"close",id:"window"},""),Object(r.b)("div",{class:"title"},"SkiFree"),Object(r.b)("div",{class:"minmax"},Object(r.b)("button",{class:"button",id:"max"},""),Object(r.b)("button",{class:"button",id:"min"},""))),Object(r.b)("div",{class:"inner"},Object(r.b)(b.a,{store:y},Object(r.b)(Pt,{store:y})),Object(r.b)("canvas",{id:"canvas",width:"100%",height:"100%"}))))}}])&&kt(n.prototype,o),i&&kt(n,i),e}();Object(r.c)(Object(r.b)("div",null,Object(r.b)(Mt,null)),document.querySelector("#root"));n(29)}]);